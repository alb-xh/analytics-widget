/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t,n={};n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(e||(e={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(t||(t={}));const r=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i=e=>{switch(typeof e){case"undefined":return r.undefined;case"string":return r.string;case"number":return isNaN(e)?r.nan:r.number;case"boolean":return r.boolean;case"function":return r.function;case"bigint":return r.bigint;case"symbol":return r.symbol;case"object":return Array.isArray(e)?r.array:null===e?r.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?r.promise:"undefined"!=typeof Map&&e instanceof Map?r.map:"undefined"!=typeof Set&&e instanceof Set?r.set:"undefined"!=typeof Date&&e instanceof Date?r.date:r.object;default:return r.unknown}},s=e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class a extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof a))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,e.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}a.create=e=>new a(e);const o=(t,n)=>{let i;switch(t.code){case s.invalid_type:i=t.received===r.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case s.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,e.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:i=`Unrecognized key(s) in object: ${e.joinValues(t.keys,", ")}`;break;case s.invalid_union:i="Invalid input";break;case s.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${e.joinValues(t.options)}`;break;case s.invalid_enum_value:i=`Invalid enum value. Expected ${e.joinValues(t.options)}, received '${t.received}'`;break;case s.invalid_arguments:i="Invalid function arguments";break;case s.invalid_return_type:i="Invalid function return type";break;case s.invalid_date:i="Invalid date";break;case s.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:e.assertNever(t.validation):i="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case s.too_small:i="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case s.too_big:i="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case s.custom:i="Invalid input";break;case s.invalid_intersection_types:i="Intersection results could not be merged";break;case s.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case s.not_finite:i="Number must be finite";break;default:i=n.defaultError,e.assertNever(t)}return{message:i}};let c=o;function u(){return c}const l=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function d(e,t){const n=u(),r=l({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===o?void 0:o].filter((e=>!!e))});e.common.issues.push(r)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return f;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return h.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return f;if("aborted"===i.status)return f;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const f=Object.freeze({status:"aborted"}),p=e=>({status:"dirty",value:e}),m=e=>({status:"valid",value:e}),g=e=>"aborted"===e.status,v=e=>"dirty"===e.status,y=e=>"valid"===e.status,_=e=>"undefined"!=typeof Promise&&e instanceof Promise;function b(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function w(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var k,E,S;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(k||(k={}));class I{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const x=(e,t)=>{if(y(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new a(e.common.issues);return this._error=t,this._error}}};function T(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var s,a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(s=null!=o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=o?o:n)&&void 0!==a?a:i.defaultError}},description:i}}class A{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return i(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(_(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},s=this._parseSync({data:e,path:r.path,parent:r});return x(r,s)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},r=this._parse({data:e,path:n.path,parent:n}),s=await(_(r)?r:Promise.resolve(r));return x(n,s)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:s.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new Ee({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Se.create(this,this._def)}nullable(){return Ie.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ie.create(this,this._def)}promise(){return ke.create(this,this._def)}or(e){return oe.create([this,e],this._def)}and(e){return de.create(this,e,this._def)}transform(e){return new Ee({...T(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new xe({...T(this._def),innerType:this,defaultValue:t,typeName:Oe.ZodDefault})}brand(){return new Ne({typeName:Oe.ZodBranded,type:this,...T(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Te({...T(this._def),innerType:this,catchValue:t,typeName:Oe.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ve.create(this,e)}readonly(){return Re.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const C=/^c[^\s-]{8,}$/i,N=/^[0-9a-z]+$/,V=/^[0-9A-HJKMNP-TV-Z]{26}$/,R=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^[a-z0-9_-]{21}$/i,D=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let P;const M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,j=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=new RegExp(`^${Z}$`);function $(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function W(e){let t=`${Z}T${$(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function U(e,t){return!("v4"!==t&&t||!M.test(e))||!("v6"!==t&&t||!F.test(e))}class z extends A{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==r.string){const e=this._getOrReturnCtx(t);return d(e,{code:s.invalid_type,expected:r.string,received:e.parsedType}),f}const n=new h;let i;for(const r of this._def.checks)if("min"===r.kind)t.data.length<r.value&&(i=this._getOrReturnCtx(t,i),d(i,{code:s.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if("max"===r.kind)t.data.length>r.value&&(i=this._getOrReturnCtx(t,i),d(i,{code:s.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if("length"===r.kind){const e=t.data.length>r.value,a=t.data.length<r.value;(e||a)&&(i=this._getOrReturnCtx(t,i),e?d(i,{code:s.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&d(i,{code:s.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if("email"===r.kind)O.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"email",code:s.invalid_string,message:r.message}),n.dirty());else if("emoji"===r.kind)P||(P=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),P.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"emoji",code:s.invalid_string,message:r.message}),n.dirty());else if("uuid"===r.kind)R.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"uuid",code:s.invalid_string,message:r.message}),n.dirty());else if("nanoid"===r.kind)L.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"nanoid",code:s.invalid_string,message:r.message}),n.dirty());else if("cuid"===r.kind)C.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"cuid",code:s.invalid_string,message:r.message}),n.dirty());else if("cuid2"===r.kind)N.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"cuid2",code:s.invalid_string,message:r.message}),n.dirty());else if("ulid"===r.kind)V.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"ulid",code:s.invalid_string,message:r.message}),n.dirty());else if("url"===r.kind)try{new URL(t.data)}catch(e){i=this._getOrReturnCtx(t,i),d(i,{validation:"url",code:s.invalid_string,message:r.message}),n.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"regex",code:s.invalid_string,message:r.message}),n.dirty())):"trim"===r.kind?t.data=t.data.trim():"includes"===r.kind?t.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):"toLowerCase"===r.kind?t.data=t.data.toLowerCase():"toUpperCase"===r.kind?t.data=t.data.toUpperCase():"startsWith"===r.kind?t.data.startsWith(r.value)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):"endsWith"===r.kind?t.data.endsWith(r.value)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):"datetime"===r.kind?W(r).test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:"datetime",message:r.message}),n.dirty()):"date"===r.kind?B.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:"date",message:r.message}),n.dirty()):"time"===r.kind?new RegExp(`^${$(r)}$`).test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{code:s.invalid_string,validation:"time",message:r.message}),n.dirty()):"duration"===r.kind?D.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"duration",code:s.invalid_string,message:r.message}),n.dirty()):"ip"===r.kind?U(t.data,r.version)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"ip",code:s.invalid_string,message:r.message}),n.dirty()):"base64"===r.kind?j.test(t.data)||(i=this._getOrReturnCtx(t,i),d(i,{validation:"base64",code:s.invalid_string,message:r.message}),n.dirty()):e.assertNever(r);return{status:n.value,value:t.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:s.invalid_string,...k.errToObj(n)})}_addCheck(e){return new z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...k.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...k.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...k.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...k.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...k.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...k.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...k.errToObj(t)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function G(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}z.create=e=>{var t;return new z({checks:[],typeName:Oe.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...T(e)})};class H extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==r.number){const e=this._getOrReturnCtx(t);return d(e,{code:s.invalid_type,expected:r.number,received:e.parsedType}),f}let n;const i=new h;for(const r of this._def.checks)"int"===r.kind?e.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),d(n,{code:s.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):"min"===r.kind?(r.inclusive?t.data<r.value:t.data<=r.value)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?t.data>r.value:t.data>=r.value)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"multipleOf"===r.kind?0!==G(t.data,r.value)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),d(n,{code:s.not_finite,message:r.message}),i.dirty()):e.assertNever(r);return{status:i.value,value:t.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,n,r){return new H({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:k.toString(r)}]})}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((t=>"int"===t.kind||"multipleOf"===t.kind&&e.isInteger(t.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}H.create=e=>new H({checks:[],typeName:Oe.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...T(e)});class Y extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==r.bigint){const e=this._getOrReturnCtx(t);return d(e,{code:s.invalid_type,expected:r.bigint,received:e.parsedType}),f}let n;const i=new h;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?t.data<r.value:t.data<=r.value)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?t.data>r.value:t.data>=r.value)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"multipleOf"===r.kind?t.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),d(n,{code:s.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):e.assertNever(r);return{status:i.value,value:t.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,n,r){return new Y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:k.toString(r)}]})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Y.create=e=>{var t;return new Y({checks:[],typeName:Oe.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...T(e)})};class q extends A{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==r.boolean){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.boolean,received:t.parsedType}),f}return m(e.data)}}q.create=e=>new q({typeName:Oe.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...T(e)});class J extends A{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==r.date){const e=this._getOrReturnCtx(t);return d(e,{code:s.invalid_type,expected:r.date,received:e.parsedType}),f}if(isNaN(t.data.getTime()))return d(this._getOrReturnCtx(t),{code:s.invalid_date}),f;const n=new h;let i;for(const r of this._def.checks)"min"===r.kind?t.data.getTime()<r.value&&(i=this._getOrReturnCtx(t,i),d(i,{code:s.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?t.data.getTime()>r.value&&(i=this._getOrReturnCtx(t,i),d(i,{code:s.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):e.assertNever(r);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}J.create=e=>new J({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Oe.ZodDate,...T(e)});class X extends A{_parse(e){if(this._getType(e)!==r.symbol){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.symbol,received:t.parsedType}),f}return m(e.data)}}X.create=e=>new X({typeName:Oe.ZodSymbol,...T(e)});class K extends A{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.undefined,received:t.parsedType}),f}return m(e.data)}}K.create=e=>new K({typeName:Oe.ZodUndefined,...T(e)});class Q extends A{_parse(e){if(this._getType(e)!==r.null){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.null,received:t.parsedType}),f}return m(e.data)}}Q.create=e=>new Q({typeName:Oe.ZodNull,...T(e)});class ee extends A{constructor(){super(...arguments),this._any=!0}_parse(e){return m(e.data)}}ee.create=e=>new ee({typeName:Oe.ZodAny,...T(e)});class te extends A{constructor(){super(...arguments),this._unknown=!0}_parse(e){return m(e.data)}}te.create=e=>new te({typeName:Oe.ZodUnknown,...T(e)});class ne extends A{_parse(e){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.never,received:t.parsedType}),f}}ne.create=e=>new ne({typeName:Oe.ZodNever,...T(e)});class re extends A{_parse(e){if(this._getType(e)!==r.undefined){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.void,received:t.parsedType}),f}return m(e.data)}}re.create=e=>new re({typeName:Oe.ZodVoid,...T(e)});class ie extends A{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==r.array)return d(t,{code:s.invalid_type,expected:r.array,received:t.parsedType}),f;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,r=t.data.length<i.exactLength.value;(e||r)&&(d(t,{code:e?s.too_big:s.too_small,minimum:r?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(d(t,{code:s.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(d(t,{code:s.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>i.type._parseAsync(new I(t,e,t.path,n))))).then((e=>h.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>i.type._parseSync(new I(t,e,t.path,n))));return h.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new ie({...this._def,minLength:{value:e,message:k.toString(t)}})}max(e,t){return new ie({...this._def,maxLength:{value:e,message:k.toString(t)}})}length(e,t){return new ie({...this._def,exactLength:{value:e,message:k.toString(t)}})}nonempty(e){return this.min(1,e)}}function se(e){if(e instanceof ae){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Se.create(se(r))}return new ae({...e._def,shape:()=>t})}return e instanceof ie?new ie({...e._def,type:se(e.element)}):e instanceof Se?Se.create(se(e.unwrap())):e instanceof Ie?Ie.create(se(e.unwrap())):e instanceof he?he.create(e.items.map((e=>se(e)))):e}ie.create=(e,t)=>new ie({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...T(t)});class ae extends A{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const t=this._def.shape(),n=e.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(e){if(this._getType(e)!==r.object){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.object,received:t.parsedType}),f}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ne&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||o.push(e);const c=[];for(const e of a){const t=i[e],r=n.data[e];c.push({key:{status:"valid",value:e},value:t._parse(new I(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof ne){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)c.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)o.length>0&&(d(n,{code:s.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];c.push({key:{status:"valid",value:t},value:e._parse(new I(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of c){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>h.mergeObjectSync(t,e))):h.mergeObjectSync(t,c)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new ae({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;const o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=k.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new ae({...this._def,unknownKeys:"strip"})}passthrough(){return new ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ae({...this._def,catchall:e})}pick(t){const n={};return e.objectKeys(t).forEach((e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])})),new ae({...this._def,shape:()=>n})}omit(t){const n={};return e.objectKeys(this.shape).forEach((e=>{t[e]||(n[e]=this.shape[e])})),new ae({...this._def,shape:()=>n})}deepPartial(){return se(this)}partial(t){const n={};return e.objectKeys(this.shape).forEach((e=>{const r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()})),new ae({...this._def,shape:()=>n})}required(t){const n={};return e.objectKeys(this.shape).forEach((e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof Se;)t=t._def.innerType;n[e]=t}})),new ae({...this._def,shape:()=>n})}keyof(){return _e(e.objectKeys(this.shape))}}ae.create=(e,t)=>new ae({shape:()=>e,unknownKeys:"strip",catchall:ne.create(),typeName:Oe.ZodObject,...T(t)}),ae.strictCreate=(e,t)=>new ae({shape:()=>e,unknownKeys:"strict",catchall:ne.create(),typeName:Oe.ZodObject,...T(t)}),ae.lazycreate=(e,t)=>new ae({shape:e,unknownKeys:"strip",catchall:ne.create(),typeName:Oe.ZodObject,...T(t)});class oe extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new a(e.ctx.common.issues)));return d(t,{code:s.invalid_union,unionErrors:n}),f}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new a(e)));return d(t,{code:s.invalid_union,unionErrors:i}),f}}get options(){return this._def.options}}oe.create=(e,t)=>new oe({options:e,typeName:Oe.ZodUnion,...T(t)});const ce=t=>t instanceof ve?ce(t.schema):t instanceof Ee?ce(t.innerType()):t instanceof ye?[t.value]:t instanceof be?t.options:t instanceof we?e.objectValues(t.enum):t instanceof xe?ce(t._def.innerType):t instanceof K?[void 0]:t instanceof Q?[null]:t instanceof Se?[void 0,...ce(t.unwrap())]:t instanceof Ie?[null,...ce(t.unwrap())]:t instanceof Ne||t instanceof Re?ce(t.unwrap()):t instanceof Te?ce(t._def.innerType):[];class ue extends A{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.object)return d(t,{code:s.invalid_type,expected:r.object,received:t.parsedType}),f;const n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(d(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),f)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=ce(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ue({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...T(n)})}}function le(t,n){const s=i(t),a=i(n);if(t===n)return{valid:!0,data:t};if(s===r.object&&a===r.object){const r=e.objectKeys(n),i=e.objectKeys(t).filter((e=>-1!==r.indexOf(e))),s={...t,...n};for(const e of i){const r=le(t[e],n[e]);if(!r.valid)return{valid:!1};s[e]=r.data}return{valid:!0,data:s}}if(s===r.array&&a===r.array){if(t.length!==n.length)return{valid:!1};const e=[];for(let r=0;r<t.length;r++){const i=le(t[r],n[r]);if(!i.valid)return{valid:!1};e.push(i.data)}return{valid:!0,data:e}}return s===r.date&&a===r.date&&+t==+n?{valid:!0,data:t}:{valid:!1}}class de extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(g(e)||g(r))return f;const i=le(e.value,r.value);return i.valid?((v(e)||v(r))&&t.dirty(),{status:t.value,value:i.data}):(d(n,{code:s.invalid_intersection_types}),f)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}de.create=(e,t,n)=>new de({left:e,right:t,typeName:Oe.ZodIntersection,...T(n)});class he extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==r.array)return d(n,{code:s.invalid_type,expected:r.array,received:n.parsedType}),f;if(n.data.length<this._def.items.length)return d(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f;!this._def.rest&&n.data.length>this._def.items.length&&(d(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new I(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(i).then((e=>h.mergeArray(t,e))):h.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new he({...this._def,rest:e})}}he.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new he({items:e,typeName:Oe.ZodTuple,rest:null,...T(t)})};class fe extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==r.object)return d(n,{code:s.invalid_type,expected:r.object,received:n.parsedType}),f;const i=[],a=this._def.keyType,o=this._def.valueType;for(const e in n.data)i.push({key:a._parse(new I(n,e,n.path,e)),value:o._parse(new I(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?h.mergeObjectAsync(t,i):h.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return new fe(t instanceof A?{keyType:e,valueType:t,typeName:Oe.ZodRecord,...T(n)}:{keyType:z.create(),valueType:e,typeName:Oe.ZodRecord,...T(t)})}}class pe extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==r.map)return d(n,{code:s.invalid_type,expected:r.map,received:n.parsedType}),f;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map((([e,t],r)=>({key:i._parse(new I(n,e,n.path,[r,"key"])),value:a._parse(new I(n,t,n.path,[r,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return f;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return f;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}pe.create=(e,t,n)=>new pe({valueType:t,keyType:e,typeName:Oe.ZodMap,...T(n)});class me extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==r.set)return d(n,{code:s.invalid_type,expected:r.set,received:n.parsedType}),f;const i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(d(n,{code:s.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(d(n,{code:s.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return f;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const c=[...n.data.values()].map(((e,t)=>a._parse(new I(n,e,n.path,t))));return n.common.async?Promise.all(c).then((e=>o(e))):o(c)}min(e,t){return new me({...this._def,minSize:{value:e,message:k.toString(t)}})}max(e,t){return new me({...this._def,maxSize:{value:e,message:k.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}me.create=(e,t)=>new me({valueType:e,minSize:null,maxSize:null,typeName:Oe.ZodSet,...T(t)});class ge extends A{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.function)return d(t,{code:s.invalid_type,expected:r.function,received:t.parsedType}),f;function n(e,n){return l({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u(),o].filter((e=>!!e)),issueData:{code:s.invalid_arguments,argumentsError:n}})}function i(e,n){return l({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u(),o].filter((e=>!!e)),issueData:{code:s.invalid_return_type,returnTypeError:n}})}const c={errorMap:t.common.contextualErrorMap},h=t.data;if(this._def.returns instanceof ke){const e=this;return m((async function(...t){const r=new a([]),s=await e._def.args.parseAsync(t,c).catch((e=>{throw r.addIssue(n(t,e)),r})),o=await Reflect.apply(h,this,s);return await e._def.returns._def.type.parseAsync(o,c).catch((e=>{throw r.addIssue(i(o,e)),r}))}))}{const e=this;return m((function(...t){const r=e._def.args.safeParse(t,c);if(!r.success)throw new a([n(t,r.error)]);const s=Reflect.apply(h,this,r.data),o=e._def.returns.safeParse(s,c);if(!o.success)throw new a([i(s,o.error)]);return o.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ge({...this._def,args:he.create(e).rest(te.create())})}returns(e){return new ge({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ge({args:e||he.create([]).rest(te.create()),returns:t||te.create(),typeName:Oe.ZodFunction,...T(n)})}}class ve extends A{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ve.create=(e,t)=>new ve({getter:e,typeName:Oe.ZodLazy,...T(t)});class ye extends A{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return d(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),f}return{status:"valid",value:e.data}}get value(){return this._def.value}}function _e(e,t){return new be({values:e,typeName:Oe.ZodEnum,...T(t)})}ye.create=(e,t)=>new ye({value:e,typeName:Oe.ZodLiteral,...T(t)});class be extends A{constructor(){super(...arguments),E.set(this,void 0)}_parse(t){if("string"!=typeof t.data){const n=this._getOrReturnCtx(t),r=this._def.values;return d(n,{expected:e.joinValues(r),received:n.parsedType,code:s.invalid_type}),f}if(b(this,E,"f")||w(this,E,new Set(this._def.values),"f"),!b(this,E,"f").has(t.data)){const e=this._getOrReturnCtx(t),n=this._def.values;return d(e,{received:e.data,code:s.invalid_enum_value,options:n}),f}return m(t.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return be.create(e,{...this._def,...t})}exclude(e,t=this._def){return be.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}E=new WeakMap,be.create=_e;class we extends A{constructor(){super(...arguments),S.set(this,void 0)}_parse(t){const n=e.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==r.string&&i.parsedType!==r.number){const t=e.objectValues(n);return d(i,{expected:e.joinValues(t),received:i.parsedType,code:s.invalid_type}),f}if(b(this,S,"f")||w(this,S,new Set(e.getValidEnumValues(this._def.values)),"f"),!b(this,S,"f").has(t.data)){const t=e.objectValues(n);return d(i,{received:i.data,code:s.invalid_enum_value,options:t}),f}return m(t.data)}get enum(){return this._def.values}}S=new WeakMap,we.create=(e,t)=>new we({values:e,typeName:Oe.ZodNativeEnum,...T(t)});class ke extends A{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.promise&&!1===t.common.async)return d(t,{code:s.invalid_type,expected:r.promise,received:t.parsedType}),f;const n=t.parsedType===r.promise?t.data:Promise.resolve(t.data);return m(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ke.create=(e,t)=>new ke({type:e,typeName:Oe.ZodPromise,...T(t)});class Ee extends A{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:e=>{d(r,e),e.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===i.type){const e=i.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===n.value)return f;const t=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===t.status?f:"dirty"===t.status||"dirty"===n.value?p(t.value):t}));{if("aborted"===n.value)return f;const t=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===t.status?f:"dirty"===t.status||"dirty"===n.value?p(t.value):t}}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const t=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===t.status?f:("dirty"===t.status&&n.dirty(),e(t.value),{status:n.value,value:t.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((t=>"aborted"===t.status?f:("dirty"===t.status&&n.dirty(),e(t.value).then((()=>({status:n.value,value:t.value}))))))}if("transform"===i.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!y(e))return e;const t=i.transform(e.value,s);if(t instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:t}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>y(e)?Promise.resolve(i.transform(e.value,s)).then((e=>({status:n.value,value:e}))):e))}e.assertNever(i)}}Ee.create=(e,t,n)=>new Ee({schema:e,typeName:Oe.ZodEffects,effect:t,...T(n)}),Ee.createWithPreprocess=(e,t,n)=>new Ee({schema:t,effect:{type:"preprocess",transform:e},typeName:Oe.ZodEffects,...T(n)});class Se extends A{_parse(e){return this._getType(e)===r.undefined?m(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Se.create=(e,t)=>new Se({innerType:e,typeName:Oe.ZodOptional,...T(t)});class Ie extends A{_parse(e){return this._getType(e)===r.null?m(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ie.create=(e,t)=>new Ie({innerType:e,typeName:Oe.ZodNullable,...T(t)});class xe extends A{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===r.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}xe.create=(e,t)=>new xe({innerType:e,typeName:Oe.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...T(t)});class Te extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new a(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Te.create=(e,t)=>new Te({innerType:e,typeName:Oe.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...T(t)});class Ae extends A{_parse(e){if(this._getType(e)!==r.nan){const t=this._getOrReturnCtx(e);return d(t,{code:s.invalid_type,expected:r.nan,received:t.parsedType}),f}return{status:"valid",value:e.data}}}Ae.create=e=>new Ae({typeName:Oe.ZodNaN,...T(e)});const Ce=Symbol("zod_brand");class Ne extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ve extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?f:"dirty"===e.status?(t.dirty(),p(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?f:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ve({in:e,out:t,typeName:Oe.ZodPipeline})}}class Re extends A{_parse(e){const t=this._def.innerType._parse(e),n=e=>(y(e)&&(e.value=Object.freeze(e.value)),e);return _(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Le(e,t={},n){return e?ee.create().superRefine(((r,i)=>{var s,a;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:o})}})):ee.create()}Re.create=(e,t)=>new Re({innerType:e,typeName:Oe.ZodReadonly,...T(t)});const De={object:ae.lazycreate};var Oe;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Oe||(Oe={}));const Pe=z.create,Me=H.create,Fe=Ae.create,je=Y.create,Ze=q.create,Be=J.create,$e=X.create,We=K.create,Ue=Q.create,ze=ee.create,Ge=te.create,He=ne.create,Ye=re.create,qe=ie.create,Je=ae.create,Xe=ae.strictCreate,Ke=oe.create,Qe=ue.create,et=de.create,tt=he.create,nt=fe.create,rt=pe.create,it=me.create,st=ge.create,at=ve.create,ot=ye.create,ct=be.create,ut=we.create,lt=ke.create,dt=Ee.create,ht=Se.create,ft=Ie.create,pt=Ee.createWithPreprocess,mt=Ve.create,gt={string:e=>z.create({...e,coerce:!0}),number:e=>H.create({...e,coerce:!0}),boolean:e=>q.create({...e,coerce:!0}),bigint:e=>Y.create({...e,coerce:!0}),date:e=>J.create({...e,coerce:!0})},vt=f;var yt=Object.freeze({__proto__:null,defaultErrorMap:o,setErrorMap:function(e){c=e},getErrorMap:u,makeIssue:l,EMPTY_PATH:[],addIssueToContext:d,ParseStatus:h,INVALID:f,DIRTY:p,OK:m,isAborted:g,isDirty:v,isValid:y,isAsync:_,get util(){return e},get objectUtil(){return t},ZodParsedType:r,getParsedType:i,ZodType:A,datetimeRegex:W,ZodString:z,ZodNumber:H,ZodBigInt:Y,ZodBoolean:q,ZodDate:J,ZodSymbol:X,ZodUndefined:K,ZodNull:Q,ZodAny:ee,ZodUnknown:te,ZodNever:ne,ZodVoid:re,ZodArray:ie,ZodObject:ae,ZodUnion:oe,ZodDiscriminatedUnion:ue,ZodIntersection:de,ZodTuple:he,ZodRecord:fe,ZodMap:pe,ZodSet:me,ZodFunction:ge,ZodLazy:ve,ZodLiteral:ye,ZodEnum:be,ZodNativeEnum:we,ZodPromise:ke,ZodEffects:Ee,ZodTransformer:Ee,ZodOptional:Se,ZodNullable:Ie,ZodDefault:xe,ZodCatch:Te,ZodNaN:Ae,BRAND:Ce,ZodBranded:Ne,ZodPipeline:Ve,ZodReadonly:Re,custom:Le,Schema:A,ZodSchema:A,late:De,get ZodFirstPartyTypeKind(){return Oe},coerce:gt,any:ze,array:qe,bigint:je,boolean:Ze,date:Be,discriminatedUnion:Qe,effect:dt,enum:ct,function:st,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Le((t=>t instanceof e),t),intersection:et,lazy:at,literal:ot,map:rt,nan:Fe,nativeEnum:ut,never:He,null:Ue,nullable:ft,number:Me,object:Je,oboolean:()=>Ze().optional(),onumber:()=>Me().optional(),optional:ht,ostring:()=>Pe().optional(),pipeline:mt,preprocess:pt,promise:lt,record:nt,set:it,strictObject:Xe,string:Pe,symbol:$e,transformer:dt,tuple:tt,undefined:We,union:Ke,unknown:Ge,void:Ye,NEVER:vt,ZodIssueCode:s,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:a});class _t{static InvalidValueError=class extends Error{constructor(e,t,n){super(`Invalid ${e}: Issues: ${JSON.stringify(t)}: Value: ${JSON.stringify(n)}`)}};constructor(e,t){this.schemaName=e,this.schema=t}validate(e){const t=this.schema.safeParse(e);if(!t.success)throw new _t.InvalidValueError(this.schemaName,t.error.issues,e)}}class bt{static validator=new _t("ConfigSchema",yt.object({DEBUG:yt.enum(["true","false"]),WIDGET_NAME:yt.string().min(4).max(30),IP_API_URL:yt.string().url(),FIREBASE_API_KEY:yt.string().min(4).max(50),FIREBASE_AUTH_DOMAIN:yt.string().min(4).max(50),FIREBASE_PROJECT_ID:yt.string().min(4).max(50),FIREBASE_STORAGE_BUCKET:yt.string().min(4).max(50),FIREBASE_MESSAGING_SENDER_ID:yt.string().min(4).max(50),FIREBASE_APP_ID:yt.string().min(4).max(50)}));static validate(){return bt.validator.validate({DEBUG:"false",WIDGET_NAME:"alb-xh-analytics",IP_API_URL:"https://api.ipify.org?format=json",FIREBASE_API_KEY:"AIzaSyCkAWW2nYsGqGlu3Sffzp1HCa1Gas725D0",FIREBASE_AUTH_DOMAIN:"analytics-widget-6c1af.firebaseapp.com",FIREBASE_PROJECT_ID:"analytics-widget-6c1af",FIREBASE_STORAGE_BUCKET:"analytics-widget-6c1af.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"363629276192",FIREBASE_APP_ID:"1:363629276192:web:334c5ab0965b510401a045"})}static getDebug(){return Boolean("false")}static getWidgetName(){return"alb-xh-analytics"}static getIpApiUrl(){return new URL("https://api.ipify.org?format=json")}static getFirebaseConfig(){return{apiKey:"AIzaSyCkAWW2nYsGqGlu3Sffzp1HCa1Gas725D0",authDomain:"analytics-widget-6c1af.firebaseapp.com",projectId:"analytics-widget-6c1af",storageBucket:"analytics-widget-6c1af.appspot.com",messagingSenderId:"363629276192",appId:"1:363629276192:web:334c5ab0965b510401a045"}}}class wt{static process(e){return e.map((e=>e instanceof Error?e.toString():JSON.stringify(e))).join(": ")}static log(...e){console.log(wt.process(e))}static error(...e){console.error(wt.process(e))}static debug(...e){bt.getDebug()&&wt.log(...e)}}class kt{static async sleep(e,t={}){return new Promise((n=>{t.value=setTimeout((()=>n()),e)}))}static async promiseWithTimeout(e,t){const n={value:null};return Promise.race([kt.sleep(t,n).then((()=>({success:!1,data:null}))),e.then((e=>(n.value&&clearTimeout(n.value),{success:!0,data:e??null})))])}static now(){return(new Date).toISOString()}static getDate(e=kt.now()){const[t]=e.split("T");return t}}class Et{constructor(e,t={}){this.name=e,this.entries=[],this.processing=!1,this.maxRetries=t?.maxRetries??1,this.waitTimeout=t?.waitTimeout??5e3,this.cancelTimeout=t?.cancelTimeout??6e4}push(e){const t={cb:e,retries:0,createdAt:(new Date).toISOString()};wt.debug(`${this.name} Queue`,"new entry was pushed",t),this.entries.unshift(t),this.process()}async process(){if(!this.processing){for(this.processing=!0,wt.debug(`${this.name} Queue`,"processing started");this.entries.length>0;){const e=this.entries.pop();e&&await this.processEntry(e),await kt.sleep(this.waitTimeout)}this.processing=!1,wt.debug(`${this.name} Queue`,"processing ended")}}async processEntry(e){const t=()=>{e.retries>=this.maxRetries?wt.error(`${this.name} Queue`,"canceled",e):(e.retries+=1,this.entries.unshift(e))};try{const{success:n}=await kt.promiseWithTimeout(e.cb(),this.cancelTimeout);n||t()}catch(e){wt.error(`${this.name} Queue`,"processing failed",e),t()}}}class St{static eventsQueue=new Et("Events");constructor(e,t,n){this.db=e,this.ipFetcher=t,this.fingerprint=n}sendViewEvent(){const e=this.db.getCollection("views"),t={};St.eventsQueue.push((async()=>{t.visitorId??=await this.fingerprint.getVisitorId(),wt.debug("Dispatcher","sendViewEvent","visitorId",t.visitorId),t.ip??=await this.ipFetcher.fetch(),wt.debug("Dispatcher","sendViewEvent","ip",t.ip),await e.saveView(t),wt.debug("Dispatcher","sendViewEvent","handled")})),wt.debug("Dispatcher","sendViewEvent","added to queue")}}var It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)};function xt(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function Tt(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function At(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Ct="4.4.3";function Nt(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function Vt(e){return!!e&&"function"==typeof e.then}function Rt(e,t){try{var n=e();Vt(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function Lt(e,t,n){return void 0===n&&(n=16),xt(this,void 0,void 0,(function(){var r,i,s,a;return Tt(this,(function(o){switch(o.label){case 0:r=Array(e.length),i=Date.now(),s=0,o.label=1;case 1:return s<e.length?(r[s]=t(e[s],s),(a=Date.now())>=i+n?(i=a,[4,new Promise((function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)}))]):[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return++s,[3,1];case 4:return[2,r]}}))}))}function Dt(e){return e.then(void 0,(function(){})),e}function Ot(e){return parseInt(e)}function Pt(e){return parseFloat(e)}function Mt(e,t){return"number"==typeof e&&isNaN(e)?t:e}function Ft(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function jt(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function Zt(e,t){var n=e[0]>>>16,r=65535&e[0],i=e[1]>>>16,s=65535&e[1],a=t[0]>>>16,o=65535&t[0],c=t[1]>>>16,u=0,l=0,d=0,h=0;d+=(h+=s+(65535&t[1]))>>>16,h&=65535,l+=(d+=i+c)>>>16,d&=65535,u+=(l+=r+o)>>>16,l&=65535,u+=n+a,u&=65535,e[0]=u<<16|l,e[1]=d<<16|h}function Bt(e,t){var n=e[0]>>>16,r=65535&e[0],i=e[1]>>>16,s=65535&e[1],a=t[0]>>>16,o=65535&t[0],c=t[1]>>>16,u=65535&t[1],l=0,d=0,h=0,f=0;h+=(f+=s*u)>>>16,f&=65535,d+=(h+=i*u)>>>16,h&=65535,d+=(h+=s*c)>>>16,h&=65535,l+=(d+=r*u)>>>16,d&=65535,l+=(d+=i*c)>>>16,d&=65535,l+=(d+=s*o)>>>16,d&=65535,l+=n*u+r*c+i*o+s*a,l&=65535,e[0]=l<<16|d,e[1]=h<<16|f}function $t(e,t){var n=e[0];32==(t%=64)?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function Wt(e,t){0!=(t%=64)&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function Ut(e,t){e[0]^=t[0],e[1]^=t[1]}var zt=[4283543511,3981806797],Gt=[3301882366,444984403];function Ht(e){var t=[0,e[0]>>>1];Ut(e,t),Bt(e,zt),t[1]=e[0]>>>1,Ut(e,t),Bt(e,Gt),t[1]=e[0]>>>1,Ut(e,t)}var Yt=[2277735313,289559509],qt=[1291169091,658871167],Jt=[0,5],Xt=[0,1390208809],Kt=[0,944331445];function Qt(){var e=window,t=navigator;return Ft(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function en(){var e=window,t=navigator;return Ft(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function tn(){var e=window,t=navigator;return Ft(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function nn(){var e=window,t=e.HTMLElement,n=e.Document;return Ft(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function rn(){var e,t=window;return e=t.print,!!/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))&&Ft(["[object WebPageNamespace]"===String(t.browser),"MicrodataExtractor"in t])>=1}function sn(){var e,t,n=window;return Ft(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function an(){var e=window,t=navigator,n=e.CSS,r=e.HTMLButtonElement;return Ft([!("getStorageUpdates"in t),r&&"popover"in r.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function on(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function cn(){var e=en(),t=sn(),n=window,r=navigator,i="connection";return e?Ft([!("SharedWorker"in n),r[i]&&"ontypechange"in r[i],!("sinkId"in new window.Audio)])>=2:!!t&&Ft(["onorientationchange"in n,"orientation"in n,/android/i.test(navigator.appVersion)])>=2}function un(e){var t=new Error(e);return t.name=e,t}function ln(e,t,n){var r,i,s;return void 0===n&&(n=50),xt(this,void 0,void 0,(function(){var a,o;return Tt(this,(function(c){switch(c.label){case 0:a=document,c.label=1;case 1:return a.body?[3,3]:[4,Nt(n)];case 2:return c.sent(),[3,1];case 3:o=a.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,i=function(){r=!0,e()};o.onload=i,o.onerror=function(e){r=!0,n(e)};var s=o.style;s.setProperty("display","block","important"),s.position="absolute",s.top="0",s.left="0",s.visibility="hidden",t&&"srcdoc"in o?o.srcdoc=t:o.src="about:blank",a.body.appendChild(o);var c=function(){var e,t;r||("complete"===(null===(t=null===(e=o.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?i():setTimeout(c,10))};c()}))];case 5:c.sent(),c.label=6;case 6:return(null===(i=null===(r=o.contentWindow)||void 0===r?void 0:r.document)||void 0===i?void 0:i.body)?[3,8]:[4,Nt(n)];case 7:return c.sent(),[3,6];case 8:return[4,e(o,o.contentWindow)];case 9:return[2,c.sent()];case 10:return null===(s=o.parentNode)||void 0===s||s.removeChild(o),[7];case 11:return[2]}}))}))}function dn(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(e),s=i[1]||void 0,a={},o=/([.:#][\w-]+|\[.+?\])/gi,c=function(e,t){a[e]=a[e]||[],a[e].push(t)};;){var u=o.exec(i[2]);if(!u)break;var l=u[0];switch(l[0]){case".":c("class",l.slice(1));break;case"#":c("id",l.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!d)throw new Error(r);c(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[s,a]}(e),n=t[0],r=t[1],i=document.createElement(null!=n?n:"div"),s=0,a=Object.keys(r);s<a.length;s++){var o=a[s],c=r[o].join(" ");"style"===o?hn(i.style,c):i.setAttribute(o,c)}return i}function hn(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],s=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(s){var a=s[1],o=s[2],c=s[4];e.setProperty(a,o,c||"")}}}var fn=["monospace","sans-serif","serif"],pn=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function mn(e){return e.toDataURL()}var gn,vn;function yn(){var e=screen;return[Mt(Pt(e.availTop),null),Mt(Pt(e.width)-Pt(e.availWidth)-Mt(Pt(e.availLeft),0),null),Mt(Pt(e.height)-Pt(e.availHeight)-Mt(Pt(e.availTop),0),null),Mt(Pt(e.availLeft),null)]}function _n(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function bn(e){var t;return xt(this,void 0,void 0,(function(){var n,r,i,s,a,o,c;return Tt(this,(function(u){switch(u.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(e.length),s={},wn(r),c=0;c<e.length;++c)"DIALOG"===(a=dn(e[c])).tagName&&a.show(),wn(o=n.createElement("div")),o.appendChild(a),r.appendChild(o),i[c]=a;u.label=1;case 1:return n.body?[3,3]:[4,Nt(50)];case 2:return u.sent(),[3,1];case 3:n.body.appendChild(r);try{for(c=0;c<e.length;++c)i[c].offsetParent||(s[e[c]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,s]}}))}))}function wn(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function kn(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function En(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function Sn(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function In(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function xn(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function Tn(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var An=Math,Cn=function(){return 0},Nn={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},Vn=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Rn=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),Ln=["FRAGMENT_SHADER","VERTEX_SHADER"],Dn=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],On="WEBGL_debug_renderer_info";function Pn(e){if(e.webgl)return e.webgl.context;var t,n=document.createElement("canvas");n.addEventListener("webglCreateContextError",(function(){return t=void 0}));for(var r=0,i=["webgl","experimental-webgl"];r<i.length;r++){var s=i[r];try{t=n.getContext(s)}catch(e){}if(t)break}return e.webgl={context:t},t}function Mn(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function Fn(e){return Object.keys(e.__proto__).filter(jn)}function jn(e){return"string"==typeof e&&!e.match(/[^A-Z0-9_x]/)}function Zn(){return sn()}function Bn(e){return"function"==typeof e.getParameter}var $n={fonts:function(){var e=this;return ln((function(t,n){var r=n.document;return xt(e,void 0,void 0,(function(){var e,t,n,i,s,a,o,c,u,l,d;return Tt(this,(function(h){for((e=r.body).style.fontSize="48px",(t=r.createElement("div")).style.setProperty("visibility","hidden","important"),n={},i={},s=function(e){var n=r.createElement("span"),i=n.style;return i.position="absolute",i.top="0",i.left="0",i.fontFamily=e,n.textContent="mmMwWLliI0O&1",t.appendChild(n),n},a=function(e,t){return s("'".concat(e,"',").concat(t))},o=function(){for(var e={},t=function(t){e[t]=fn.map((function(e){return a(t,e)}))},n=0,r=pn;n<r.length;n++)t(r[n]);return e},c=function(e){return fn.some((function(t,r){return e[r].offsetWidth!==n[t]||e[r].offsetHeight!==i[t]}))},u=fn.map(s),l=o(),e.appendChild(t),d=0;d<fn.length;d++)n[fn[d]]=u[d].offsetWidth,i[fn[d]]=u[d].offsetHeight;return[2,pn.filter((function(e){return c(l[e])}))]}))}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return xt(this,void 0,void 0,(function(){var e,n,r,i,s;return Tt(this,(function(a){switch(a.label){case 0:return tn()||cn()?(o=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',o("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",o("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",o("LnNwb25zb3JpdA=="),".ylamainos",o("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",o("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",o("LmhlYWRlci1ibG9ja2VkLWFk"),o("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",o("I2FkXzMwMFgyNTA="),o("I2Jhbm5lcmZsb2F0MjI="),o("I2NhbXBhaWduLWJhbm5lcg=="),o("I0FkLUNvbnRlbnQ=")],adGuardChinese:[o("LlppX2FkX2FfSA=="),o("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",o("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),o("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",o("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",o("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",o("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),o("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),o("LmFkZ29vZ2xl"),o("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[o("YW1wLWF1dG8tYWRz"),o("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",o("I2FkX2ludmlld19hcmVh")],adGuardRussian:[o("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),o("LnJlY2xhbWE="),'div[id^="smi2adblock"]',o("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[o("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),o("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",o("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),o("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),o("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",o("I3Jla2xhbWk="),o("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),o("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),o("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[o("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",o("LndpZGdldF9wb19hZHNfd2lkZ2V0"),o("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",o("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[o("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),o("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",o("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",o("I3Jla2xhbW5pLWJveA=="),o("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",o("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[o("I2FkdmVydGVudGll"),o("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",o("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",o("LnNwb25zb3JsaW5rZ3J1ZW4="),o("I3dlcmJ1bmdza3k="),o("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),o("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[o("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",o("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[o("LnJla2xhbW9zX3RhcnBhcw=="),o("LnJla2xhbW9zX251b3JvZG9z"),o("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),o("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),o("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[o("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[o("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),o("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",o("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[o("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),o("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),o("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",o("LmFkX19tYWlu"),o("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[o("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[o("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),o("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[o("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),o("I2xpdmVyZUFkV3JhcHBlcg=="),o("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),o("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[o("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",o("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),o("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),o("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[o("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),o("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),o("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",o("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),o("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),o("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),o("ZGl2I3NrYXBpZWNfYWQ=")],ro:[o("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),o("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),o("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[o("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),o("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),o("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",o("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),o("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",o("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,bn((s=[]).concat.apply(s,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=a.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,i=Object.keys(e);r<i.length;r++){var s=i[r];n+="\n".concat(s,":");for(var a=0,o=e[s];a<o.length;a++){var c=o[a];n+="\n  ".concat(t[c]?"🚫":"➡️"," ").concat(c)}}console.log("".concat(n,"\n```"))}(e,r),(i=n.filter((function(t){var n=e[t];return Ft(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,i]}var o}))}))},fontPreferences:function(){return void 0===e&&(e=4e3),ln((function(t,n){var r=n.document,i=r.body,s=i.style;s.width="".concat(e,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",en()?i.style.zoom="".concat(1/n.devicePixelRatio):tn()&&(i.style.zoom="reset");var a=r.createElement("div");return a.textContent=At([],Array(e/20|0),!0).map((function(){return"word"})).join(" "),i.appendChild(a),function(e,t){for(var n={},r={},i=0,s=Object.keys(Nn);i<s.length;i++){var a=s[i],o=Nn[a],c=o[0],u=void 0===c?{}:c,l=o[1],d=void 0===l?"mmMwWLliI0fiflO&1":l,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var f=0,p=Object.keys(u);f<p.length;f++){var m=p[f],g=u[m];void 0!==g&&(h.style[m]=g)}n[a]=h,t.append(e.createElement("br"),h)}for(var v=0,y=Object.keys(Nn);v<y.length;v++)r[a=y[v]]=n[a].getBoundingClientRect().width;return r}(r,i)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var e},audio:function(){return tn()&&an()&&rn()?-4:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(tn()&&!nn()&&!function(){var e=window;return Ft(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var i=n.createDynamicsCompressor();i.threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0);var s=function(e){var t=function(){};return[new Promise((function(n,r){var i=!1,s=0,a=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var o=function(){setTimeout((function(){return r(un("timeout"))}),Math.min(500,a+5e3-Date.now()))},c=function(){try{var t=e.startRendering();switch(Vt(t)&&Dt(t),e.state){case"running":a=Date.now(),i&&o();break;case"suspended":document.hidden||s++,i&&s>=3?r(un("suspended")):setTimeout(c,500)}}catch(e){r(e)}};c(),t=function(){i||(i=!0,a>0&&o())}})),t]}(n),a=s[0],o=s[1],c=Dt(a.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e})));return function(){return o(),c}}()},screenFrame:function(){var e=this;if(tn()&&an()&&rn())return function(){return Promise.resolve(void 0)};var t=function(){var e=this;return function(){if(void 0===vn){var e=function(){var t=yn();_n(t)?vn=setTimeout(e,2500):(gn=t,vn=void 0)};e()}}(),function(){return xt(e,void 0,void 0,(function(){var e;return Tt(this,(function(t){switch(t.label){case 0:return _n(e=yn())?gn?[2,At([],gn,!0)]:function(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}()?[4,on()]:[3,2]:[3,2];case 1:t.sent(),e=yn(),t.label=2;case 2:return _n(e)||(gn=e),[2,e]}}))}))}}();return function(){return xt(e,void 0,void 0,(function(){var e,n;return Tt(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:jt(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},canvas:function(){return e=tn()&&an()&&rn(),i=!1,s=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),a=s[0],o=s[1],function(e,t){return!(!t||!e.toDataURL)}(a,o)?(i=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(o),e?n=r="skipped":(t=function(e,t){!function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(e,t);var n=mn(e);return n!==mn(e)?["unstable","unstable"]:(function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],s=i[0],a=i[1],o=i[2];t.fillStyle=s,t.beginPath(),t.arc(a,o,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(e,t),[mn(e),n])}(a,o),n=t[0],r=t[1])):n=r="unsupported",{winding:i,geometry:n,text:r};var e,t,n,r,i,s,a,o},osCpu:function(){return navigator.oscpu},languages:function(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(void 0!==n&&t.push([n]),Array.isArray(e.languages))en()&&function(){var e=window;return Ft([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}()||t.push(e.languages);else if("string"==typeof e.languages){var r=e.languages;r&&t.push(r.split(","))}return t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return Mt(Pt(navigator.deviceMemory),void 0)},screenResolution:function(){var e,t,n;if(!(tn()&&an()&&rn()))return(n=[(t=function(e){return Mt(Ot(e),null)})((e=screen).width),t(e.height)]).sort().reverse(),n},hardwareConcurrency:function(){return Mt(Ot(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,i=(r=(new Date).getFullYear(),-Math.max(Pt(new Date(r,0,1).getTimezoneOffset()),Pt(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(i>=0?"+":"").concat(i)},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!Qt()&&!function(){var e=window,t=navigator;return Ft(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!Qt()}())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&tn()&&!nn()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return Ft(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var i=[],s=0;s<r.length;++s){var a=r[s];i.push({type:a.type,suffixes:a.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:i})}}return t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=Ot(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],i=window[r];i&&"object"==typeof i&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!kn("inverted")||!kn("none")&&void 0},forcedColors:function(){return!!En("active")||!En("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return Sn("no-preference")?0:Sn("high")||Sn("more")?1:Sn("low")||Sn("less")?-1:Sn("forced")?10:void 0},reducedMotion:function(){return!!In("reduce")||!In("no-preference")&&void 0},reducedTransparency:function(){return!!xn("reduce")||!xn("no-preference")&&void 0},hdr:function(){return!!Tn("high")||!Tn("standard")&&void 0},math:function(){var e,t=An.acos||Cn,n=An.acosh||Cn,r=An.asin||Cn,i=An.asinh||Cn,s=An.atanh||Cn,a=An.atan||Cn,o=An.sin||Cn,c=An.sinh||Cn,u=An.cos||Cn,l=An.cosh||Cn,d=An.tan||Cn,h=An.tanh||Cn,f=An.exp||Cn,p=An.expm1||Cn,m=An.log1p||Cn;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,An.log(e+An.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:i(1),asinhPf:An.log(1+An.sqrt(2)),atanh:s(.5),atanhPf:An.log(3)/2,atan:a(.5),sin:o(-1e300),sinh:c(1),sinhPf:An.exp(1)-1/An.exp(1)/2,cos:u(10.000000000123),cosh:l(1),coshPf:(An.exp(1)+1/An.exp(1))/2,tan:d(-1e300),tanh:h(1),tanhPf:(An.exp(2)-1)/(An.exp(2)+1),exp:f(1),expm1:p(1),expm1Pf:An.exp(1)-1,log1p:m(10),log1pPf:An.log(11),powPI:An.pow(An.PI,-100)}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]},applePay:function(){var e=window.ApplePaySession;if("function"!=typeof(null==e?void 0:e.canMakePayments))return-1;if(function(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return!0;throw e}e=t}}())return-3;try{return e.canMakePayments()?1:0}catch(e){return function(e){if(e instanceof Error&&"InvalidAccessError"===e.name&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}(e)}},privateClickMeasurement:function(){var e,t=document.createElement("a"),n=null!==(e=t.attributionSourceId)&&void 0!==e?e:t.attributionsourceid;return void 0===n?void 0:String(n)},audioBaseLatency:function(){var e;return cn()||tn()?window.AudioContext&&null!==(e=(new AudioContext).baseLatency)&&void 0!==e?e:-1:-2},webGlBasics:function(e){var t,n,r,i,s,a,o=Pn(e.cache);if(!o)return-1;if(!Bn(o))return-2;var c=Zn()?null:o.getExtension(On);return{version:(null===(t=o.getParameter(o.VERSION))||void 0===t?void 0:t.toString())||"",vendor:(null===(n=o.getParameter(o.VENDOR))||void 0===n?void 0:n.toString())||"",vendorUnmasked:c?null===(r=o.getParameter(c.UNMASKED_VENDOR_WEBGL))||void 0===r?void 0:r.toString():"",renderer:(null===(i=o.getParameter(o.RENDERER))||void 0===i?void 0:i.toString())||"",rendererUnmasked:c?null===(s=o.getParameter(c.UNMASKED_RENDERER_WEBGL))||void 0===s?void 0:s.toString():"",shadingLanguageVersion:(null===(a=o.getParameter(o.SHADING_LANGUAGE_VERSION))||void 0===a?void 0:a.toString())||""}},webGlExtensions:function(e){var t=Pn(e.cache);if(!t)return-1;if(!Bn(t))return-2;var n=t.getSupportedExtensions(),r=t.getContextAttributes(),i=[],s=[],a=[],o=[];if(r)for(var c=0,u=Object.keys(r);c<u.length;c++){var l=u[c];i.push("".concat(l,"=").concat(r[l]))}for(var d=0,h=Fn(t);d<h.length;d++){var f=t[b=h[d]];s.push("".concat(b,"=").concat(f).concat(Vn.has(f)?"=".concat(t.getParameter(f)):""))}if(n)for(var p=0,m=n;p<m.length;p++){var g=m[p];if(!(g===On&&Zn()||"WEBGL_polygon_mode"===g&&(en()||tn()))){var v=t.getExtension(g);if(v)for(var y=0,_=Fn(v);y<_.length;y++){var b;f=v[b=_[y]],a.push("".concat(b,"=").concat(f).concat(Rn.has(f)?"=".concat(t.getParameter(f)):""))}}}for(var w=0,k=Ln;w<k.length;w++)for(var E=k[w],S=0,I=Dn;S<I.length;S++){var x=I[S],T=Mn(t,E,x);o.push("".concat(E,".").concat(x,"=").concat(T.join(",")))}return a.sort(),s.sort(),{contextAttributes:i,parameters:s,shaderPrecisions:o,extensions:n,extensionParameters:a}}},Wn="$ if upgrade to Pro: https://fpjs.dev/pro";function Un(e){return function(e,t){var n=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>127)return(new TextEncoder).encode(e);t[n]=r}return t}(e);t=t||0;var r,i=[0,n.length],s=i[1]%16,a=i[1]-s,o=[0,t],c=[0,t],u=[0,0],l=[0,0];for(r=0;r<a;r+=16)u[0]=n[r+4]|n[r+5]<<8|n[r+6]<<16|n[r+7]<<24,u[1]=n[r]|n[r+1]<<8|n[r+2]<<16|n[r+3]<<24,l[0]=n[r+12]|n[r+13]<<8|n[r+14]<<16|n[r+15]<<24,l[1]=n[r+8]|n[r+9]<<8|n[r+10]<<16|n[r+11]<<24,Bt(u,Yt),$t(u,31),Bt(u,qt),Ut(o,u),$t(o,27),Zt(o,c),Bt(o,Jt),Zt(o,Xt),Bt(l,qt),$t(l,33),Bt(l,Yt),Ut(c,l),$t(c,31),Zt(c,o),Bt(c,Jt),Zt(c,Kt);u[0]=0,u[1]=0,l[0]=0,l[1]=0;var d=[0,0];switch(s){case 15:d[1]=n[r+14],Wt(d,48),Ut(l,d);case 14:d[1]=n[r+13],Wt(d,40),Ut(l,d);case 13:d[1]=n[r+12],Wt(d,32),Ut(l,d);case 12:d[1]=n[r+11],Wt(d,24),Ut(l,d);case 11:d[1]=n[r+10],Wt(d,16),Ut(l,d);case 10:d[1]=n[r+9],Wt(d,8),Ut(l,d);case 9:d[1]=n[r+8],Ut(l,d),Bt(l,qt),$t(l,33),Bt(l,Yt),Ut(c,l);case 8:d[1]=n[r+7],Wt(d,56),Ut(u,d);case 7:d[1]=n[r+6],Wt(d,48),Ut(u,d);case 6:d[1]=n[r+5],Wt(d,40),Ut(u,d);case 5:d[1]=n[r+4],Wt(d,32),Ut(u,d);case 4:d[1]=n[r+3],Wt(d,24),Ut(u,d);case 3:d[1]=n[r+2],Wt(d,16),Ut(u,d);case 2:d[1]=n[r+1],Wt(d,8),Ut(u,d);case 1:d[1]=n[r],Ut(u,d),Bt(u,Yt),$t(u,31),Bt(u,qt),Ut(o,u)}return Ut(o,i),Ut(c,i),Zt(o,c),Zt(c,o),Ht(o),Ht(c),Zt(o,c),Zt(c,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)}(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var i=r[n],s=e[i],a="error"in s?"error":JSON.stringify(s.value);t+="".concat(t?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return t}(e))}function zn(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):Nt(Math.min(e,t))}(e,2*e)}function Gn(e,t){var n=Date.now();return{get:function(r){return xt(this,void 0,void 0,(function(){var i,s,a;return Tt(this,(function(o){switch(o.label){case 0:return i=Date.now(),[4,e()];case 1:return s=o.sent(),a=function(e){var t,n=function(e){var t=function(e){if(cn())return.4;if(tn())return!nn()||an()&&rn()?.3:.5;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return jt(.99+.01*e,1e-4)}(t);return{score:t,comment:Wn.replace(/\$/g,"".concat(n))}}(e);return{get visitorId(){return void 0===t&&(t=Un(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:Ct}}(s),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(a.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(i-n,"\nvisitorId: ").concat(a.visitorId,"\ncomponents: ").concat(function(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?It({name:(n=t).name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n):t;var n,r}),2)}(s),"\n```")),[2,a]}}))}))}}}function Hn(e){var t;return void 0===e&&(e={}),xt(this,void 0,void 0,(function(){var n,r,i;return Tt(this,(function(s){switch(s.label){case 0:return(null===(t=e.monitoring)||void 0===t||t)&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(Ct,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),n=e.delayFallback,r=e.debug,[4,zn(n)];case 1:return s.sent(),i=function(e){return function(e,t,n,r){var i=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),s=Dt(Lt(i,(function(n){return function(e,t){var n=Dt(new Promise((function(n){var r=Date.now();Rt(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Date.now()-r;if(!e[0])return n((function(){return{error:e[1],duration:i}}));var s=e[1];if(function(e){return"function"!=typeof e}(s))return n((function(){return{value:s,duration:i}}));n((function(){return new Promise((function(e){var t=Date.now();Rt(s,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=i+Date.now()-t;if(!n[0])return e({error:n[1],duration:s});e({value:n[1],duration:s})}))}))}))}))})));return function(){return n.then((function(e){return e()}))}}(e[n],t)}),r));return function(){return xt(this,void 0,void 0,(function(){var e,t,n,a;return Tt(this,(function(o){switch(o.label){case 0:return[4,s];case 1:return[4,Lt(o.sent(),(function(e){return Dt(e())}),r)];case 2:return e=o.sent(),[4,Promise.all(e)];case 3:for(t=o.sent(),n={},a=0;a<i.length;++a)n[i[a]]=t[a];return[2,n]}}))}))}}($n,e,[])}({cache:{},debug:r}),[2,Gn(i,r)]}}))}))}class Yn{async getVisitorId(){return this.fp=this.fp??await Hn(),(await this.fp.get()).visitorId}}const qn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,c=o?e[t+2]:0,u=i>>2,l=(3&i)<<4|a>>4;let d=(15&a)<<2|c>>6,h=63&c;o||(h=64,s||(d=64)),r.push(n[u],n[l],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new Xn;const c=i<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kn=function(e){return function(e){const t=qn(e);return Jn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Qn=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0==={DEBUG:"false",WIDGET_NAME:"alb-xh-analytics",IP_API_URL:"https://api.ipify.org?format=json",FIREBASE_API_KEY:"AIzaSyCkAWW2nYsGqGlu3Sffzp1HCa1Gas725D0",FIREBASE_AUTH_DOMAIN:"analytics-widget-6c1af.firebaseapp.com",FIREBASE_PROJECT_ID:"analytics-widget-6c1af",FIREBASE_STORAGE_BUCKET:"analytics-widget-6c1af.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"363629276192",FIREBASE_APP_ID:"1:363629276192:web:334c5ab0965b510401a045"})return;const e={DEBUG:"false",WIDGET_NAME:"alb-xh-analytics",IP_API_URL:"https://api.ipify.org?format=json",FIREBASE_API_KEY:"AIzaSyCkAWW2nYsGqGlu3Sffzp1HCa1Gas725D0",FIREBASE_AUTH_DOMAIN:"analytics-widget-6c1af.firebaseapp.com",FIREBASE_PROJECT_ID:"analytics-widget-6c1af",FIREBASE_STORAGE_BUCKET:"analytics-widget-6c1af.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"363629276192",FIREBASE_APP_ID:"1:363629276192:web:334c5ab0965b510401a045"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&function(e){try{return Jn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},er=()=>{var e;return null===(e=Qn())||void 0===e?void 0:e.config};class tr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}class nr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rr.prototype.create)}}class rr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(ir,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new nr(r,a,n)}}const ir=/\{\$([^}]+)}/g;function sr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ar(n)&&ar(s)){if(!sr(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function ar(e){return null!==e&&"object"==typeof e}function or(e){return e&&e._delegate?e._delegate:e}class cr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ur="[DEFAULT]";class lr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new tr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ur?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hr=[];var fr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fr||(fr={}));const pr={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},mr=fr.INFO,gr={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},vr=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=gr[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class yr{constructor(e){this.name=e,this._logLevel=mr,this._logHandler=vr,this._userLogHandler=null,hr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?pr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}const _r=(e,t)=>t.some((t=>e instanceof t));let br,wr;const kr=new WeakMap,Er=new WeakMap,Sr=new WeakMap,Ir=new WeakMap,xr=new WeakMap;let Tr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Er.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ar(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Nr(this),e),Cr(kr.get(this))}:function(...e){return Cr(t.apply(Nr(this),e))}:function(e,...n){const r=t.call(Nr(this),e,...n);return Sr.set(r,e.sort?e.sort():[e]),Cr(r)}:(e instanceof IDBTransaction&&function(e){if(Er.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Er.set(e,t)}(e),_r(e,br||(br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Tr):e);var t}function Cr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Cr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&kr.set(t,e)})).catch((()=>{})),xr.set(t,e),t}(e);if(Ir.has(e))return Ir.get(e);const t=Ar(e);return t!==e&&(Ir.set(e,t),xr.set(t,e)),t}const Nr=e=>xr.get(e),Vr=["get","getKey","getAll","getAllKeys","count"],Rr=["put","add","delete","clear"],Lr=new Map;function Dr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Lr.get(t))return Lr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vr.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return Lr.set(t,s),s}var Or;Or=Tr,Tr={...Or,get:(e,t,n)=>Dr(e,t)||Or.get(e,t,n),has:(e,t)=>!!Dr(e,t)||Or.has(e,t)};class Pr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Mr="@firebase/app",Fr="0.10.9",jr=new yr("@firebase/app"),Zr="@firebase/app-compat",Br="@firebase/analytics-compat",$r="@firebase/analytics",Wr="@firebase/app-check-compat",Ur="@firebase/app-check",zr="@firebase/auth",Gr="@firebase/auth-compat",Hr="@firebase/database",Yr="@firebase/database-compat",qr="@firebase/functions",Jr="@firebase/functions-compat",Xr="@firebase/installations",Kr="@firebase/installations-compat",Qr="@firebase/messaging",ei="@firebase/messaging-compat",ti="@firebase/performance",ni="@firebase/performance-compat",ri="@firebase/remote-config",ii="@firebase/remote-config-compat",si="@firebase/storage",ai="@firebase/storage-compat",oi="@firebase/firestore",ci="@firebase/vertexai-preview",ui="@firebase/firestore-compat",li="firebase",di="[DEFAULT]",hi={[Mr]:"fire-core",[Zr]:"fire-core-compat",[$r]:"fire-analytics",[Br]:"fire-analytics-compat",[Ur]:"fire-app-check",[Wr]:"fire-app-check-compat",[zr]:"fire-auth",[Gr]:"fire-auth-compat",[Hr]:"fire-rtdb",[Yr]:"fire-rtdb-compat",[qr]:"fire-fn",[Jr]:"fire-fn-compat",[Xr]:"fire-iid",[Kr]:"fire-iid-compat",[Qr]:"fire-fcm",[ei]:"fire-fcm-compat",[ti]:"fire-perf",[ni]:"fire-perf-compat",[ri]:"fire-rc",[ii]:"fire-rc-compat",[si]:"fire-gcs",[ai]:"fire-gcs-compat",[oi]:"fire-fst",[ui]:"fire-fst-compat",[ci]:"fire-vertex","fire-js":"fire-js",[li]:"fire-js-all"},fi=new Map,pi=new Map,mi=new Map;function gi(e,t){try{e.container.addComponent(t)}catch(n){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function vi(e){const t=e.name;if(mi.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;mi.set(t,e);for(const t of fi.values())gi(t,e);for(const t of pi.values())gi(t,e);return!0}const yi=new rr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _i{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}function bi(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:di,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=er()),!n)throw yi.create("no-options");const s=fi.get(i);if(s){if(sr(n,s.options)&&sr(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const a=new dr(i);for(const e of mi.values())a.addComponent(e);const o=new _i(n,r,a);return fi.set(i,o),o}function wi(e,t,n){var r;let i=null!==(r=hi[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void jr.warn(e.join(" "))}vi(new cr(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ki="firebase-heartbeat-database",Ei=1,Si="firebase-heartbeat-store";let Ii=null;function xi(){return Ii||(Ii=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Cr(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Cr(a.result),e.oldVersion,e.newVersion,Cr(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(ki,Ei,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Si)}catch(e){console.warn(e)}}}).catch((e=>{throw yi.create("idb-open",{originalErrorMessage:e.message})}))),Ii}async function Ti(e,t){try{const n=(await xi()).transaction(Si,"readwrite"),r=n.objectStore(Si);await r.put(t,Ai(e)),await n.done}catch(e){if(e instanceof nr)jr.warn(e.message);else{const t=yi.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});jr.warn(t.message)}}}function Ai(e){return`${e.name}!${e.options.appId}`}class Ci{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ni();if(console.log("heartbeats",null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ni(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ri(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ri(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Kn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return jr.warn(e),""}}}function Ni(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await xi()).transaction(Si),n=await t.objectStore(Si).get(Ai(e));return await t.done,n}catch(e){if(e instanceof nr)jr.warn(e.message);else{const t=yi.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});jr.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ti(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ti(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ri(e){return Kn(JSON.stringify({version:2,heartbeats:e})).length}vi(new cr("platform-logger",(e=>new Pr(e)),"PRIVATE")),vi(new cr("heartbeat",(e=>new Ci(e)),"PRIVATE")),wi(Mr,Fr,""),wi(Mr,Fr,"esm2017"),wi("fire-js",""),wi("firebase","10.13.0","app");class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let Di="10.13.0";const Oi=new yr("@firebase/firestore");function Pi(e,...t){if(Oi.logLevel<=fr.DEBUG){const n=t.map(ji);Oi.debug(`Firestore (${Di}): ${e}`,...n)}}function Mi(e,...t){if(Oi.logLevel<=fr.ERROR){const n=t.map(ji);Oi.error(`Firestore (${Di}): ${e}`,...n)}}function Fi(e,...t){if(Oi.logLevel<=fr.WARN){const n=t.map(ji);Oi.warn(`Firestore (${Di}): ${e}`,...n)}}function ji(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zi(e="Unexpected state"){const t=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+e;throw Mi(t),new Error(t)}function Bi(e,t){e||Zi()}function $i(e,t){return e}const Wi="unknown",Ui="invalid-argument",zi="unauthenticated",Gi="failed-precondition",Hi="unimplemented";class Yi extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ji{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Li.UNAUTHENTICATED)))}shutdown(){}}class Xi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ki{constructor(e){this.auth=null,e.onInit((e=>{this.auth=e}))}getToken(){return this.auth?this.auth.getToken().then((e=>e?(Bi("string"==typeof e.accessToken),new qi(e.accessToken,new Li(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Qi{constructor(e,t,n){this.t=e,this.i=t,this.o=n,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class es{constructor(e,t,n){this.t=e,this.i=t,this.o=n}getToken(){return Promise.resolve(new Qi(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable((()=>t(Li.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ts{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ns{constructor(e){this.h=e,this.appCheck=null,e.onInit((e=>{this.appCheck=e}))}getToken(){return this.appCheck?this.appCheck.getToken().then((e=>e?(Bi("string"==typeof e.token),new ts(e.token)):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class rs{constructor(e,t,n,r,i,s,a,o,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class is{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new is("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}class ss{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zi(),void 0===n?n=e.length-t:n>e.length-t&&Zi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ss.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class as extends ss{construct(e,t,n){return new as(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Yi(Ui,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new as(t)}static emptyPath(){return new as([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends ss{construct(e,t,n){return new cs(e,t,n)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Yi(Ui,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yi(Ui,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yi(Ui,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Yi(Ui,"Unterminated ` in path: "+e);return new cs(t)}static emptyPath(){return new cs([])}}class us{constructor(e){this.path=e}static fromPath(e){return new us(as.fromString(e))}static fromName(e){return new us(as.fromString(e).popFirst(5))}static empty(){return new us(as.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===as.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return as.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new us(new as(e.slice()))}}function ls(e,t,n){if(!n)throw new Yi(Ui,`Function ${e}() cannot be called with an empty ${t}.`)}function ds(e){if(!us.isDocumentKey(e))throw new Yi(Ui,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hs(e){if(us.isDocumentKey(e))throw new Yi(Ui,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function fs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zi()}function ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yi(Ui,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fs(e);throw new Yi(Ui,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ms(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let gs=null;function vs(e){return 0===e&&1/e==-1/0}const ys={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _s,bs;function ws(e){if(void 0===e)return Mi("RPC_ERROR","HTTP error has no status"),Wi;switch(e){case 200:return"ok";case 400:return Gi;case 401:return zi;case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 416:return"out-of-range";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return Wi;case 501:return Hi;case 503:return"unavailable";case 504:return"deadline-exceeded";default:return e>=200&&e<300?"ok":e>=400&&e<500?Gi:e>=500&&e<600?"internal":Wi}}(bs=_s||(_s={}))[bs.OK=0]="OK",bs[bs.CANCELLED=1]="CANCELLED",bs[bs.UNKNOWN=2]="UNKNOWN",bs[bs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bs[bs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bs[bs.NOT_FOUND=5]="NOT_FOUND",bs[bs.ALREADY_EXISTS=6]="ALREADY_EXISTS",bs[bs.PERMISSION_DENIED=7]="PERMISSION_DENIED",bs[bs.UNAUTHENTICATED=16]="UNAUTHENTICATED",bs[bs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bs[bs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bs[bs.ABORTED=10]="ABORTED",bs[bs.OUT_OF_RANGE=11]="OUT_OF_RANGE",bs[bs.UNIMPLEMENTED=12]="UNIMPLEMENTED",bs[bs.INTERNAL=13]="INTERNAL",bs[bs.UNAVAILABLE=14]="UNAVAILABLE",bs[bs.DATA_LOSS=15]="DATA_LOSS";class ks extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.m=t+"://"+e.host,this.A=`projects/${n}/databases/${r}`,this.T="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get R(){return!1}P(e,t,n,r,i){const s=(null===gs?gs=268435456+Math.round(2147483648*Math.random()):gs++,"0x"+gs.toString(16)),a=this.V(e,t.toUriEncodedString());Pi("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.A,"x-goog-request-params":this.T};return this.I(o,r,i),this.p(e,a,o,n).then((t=>(Pi("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Fi("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}g(e,t,n,r,i,s){return this.P(e,t,n,r,i)}I(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Di,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}V(e,t){const n=ys[e];return`${this.m}/v1/${t}:${n}`}terminate(){}}{constructor(e,t){super(e),this.F=t}v(e,t){throw new Error("Not supported by FetchConnection")}async p(e,t,n,r){var i;const s=JSON.stringify(r);let a;try{a=await this.F(t,{method:"POST",headers:n,body:s})}catch(e){const t=e;throw new Yi(ws(t.status),"Request failed with error: "+t.statusText)}if(!a.ok){let e=await a.json();Array.isArray(e)&&(e=e[0]);const t=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.message;throw new Yi(ws(a.status),`Request failed with error: ${null!=t?t:a.statusText}`)}return a.json()}}function Es(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Ss{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Es(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Is(e,t){return e<t?-1:e>t?1:0}function xs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ts(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function As(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}class Cs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cs("Invalid base64 string: "+e):e}}(e);return new Ns(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Is(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ns.EMPTY_BYTE_STRING=new Ns("");const Vs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(e){if(Bi(!!e),"string"==typeof e){let t=0;const n=Vs.exec(e);if(Bi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ls(e.seconds),nanos:Ls(e.nanos)}}function Ls(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ds(e){return"string"==typeof e?Ns.fromBase64String(e):Ns.fromUint8Array(e)}class Os{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yi(Ui,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yi(Ui,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yi(Ui,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yi(Ui,"Timestamp seconds out of range: "+e)}static now(){return Os.fromMillis(Date.now())}static fromDate(e){return Os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Os(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Is(this.nanoseconds,e.nanoseconds):Is(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}function Ps(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ms(e){const t=e.mapValue.fields.__previous_value__;return Ps(t)?Ms(t):t}function Fs(e){const t=Rs(e.mapValue.fields.__local_write_time__.timestampValue);return new Os(t.seconds,t.nanos)}const js={fields:{__type__:{stringValue:"__max__"}}};function Zs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ps(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:Zi()}function Bs(e,t){if(e===t)return!0;const n=Zs(e);if(n!==Zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fs(e).isEqual(Fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rs(e.timestampValue),r=Rs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ds(e.bytesValue).isEqual(Ds(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ls(e.geoPointValue.latitude)===Ls(t.geoPointValue.latitude)&&Ls(e.geoPointValue.longitude)===Ls(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ls(e.integerValue)===Ls(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ls(e.doubleValue),r=Ls(t.doubleValue);return n===r?vs(n)===vs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xs(e.arrayValue.values||[],t.arrayValue.values||[],Bs);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ts(n)!==Ts(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Bs(n[e],r[e])))return!1;return!0}(e,t);default:return Zi()}}function $s(e,t){return void 0!==(e.values||[]).find((e=>Bs(e,t)))}function Ws(e,t){if(e===t)return 0;const n=Zs(e),r=Zs(t);if(n!==r)return Is(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Is(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ls(e.integerValue||e.doubleValue),r=Ls(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Us(e.timestampValue,t.timestampValue);case 4:return Us(Fs(e),Fs(t));case 5:return Is(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ds(e),r=Ds(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Is(n[e],r[e]);if(0!==t)return t}return Is(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Is(Ls(e.latitude),Ls(t.latitude));return 0!==n?n:Is(Ls(e.longitude),Ls(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zs(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},c=null===(n=a.value)||void 0===n?void 0:n.arrayValue,u=null===(r=o.value)||void 0===r?void 0:r.arrayValue,l=Is((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==l?l:zs(c,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===js&&t===js)return 0;if(e===js)return 1;if(t===js)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Is(r[e],s[e]);if(0!==t)return t;const a=Ws(n[r[e]],i[s[e]]);if(0!==a)return a}return Is(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zi()}}function Us(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Is(e,t);const n=Rs(e),r=Rs(t),i=Is(n.seconds,r.seconds);return 0!==i?i:Is(n.nanos,r.nanos)}function zs(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Ws(n[e],r[e]);if(t)return t}return Is(n.length,r.length)}function Gs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Hs(e){return!!e&&"arrayValue"in e}function Ys(e){return!!e&&"nullValue"in e}function qs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Js(e){return!!e&&"mapValue"in e}function Xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return As(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xs(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ks{constructor(e,t){this.position=e,this.inclusive=t}}class Qs{}class ea extends Qs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new na(e,t,n):"array-contains"===t?new aa(e,n):"in"===t?new oa(e,n):"not-in"===t?new ca(e,n):"array-contains-any"===t?new ua(e,n):new ea(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ra(e,n):new ia(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ws(t,this.value)):null!==t&&Zs(this.value)===Zs(t)&&this.matchesComparison(Ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends Qs{constructor(e,t){super(),this.filters=e,this.op=t,this.D=null}static create(e,t){return new ta(e,t)}matches(e){return function(e){return"and"===e.op}(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.D||(this.D=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.D}getFilters(){return Object.assign([],this.filters)}}class na extends ea{constructor(e,t,n){super(e,t,n),this.key=us.fromName(n.referenceValue)}matches(e){const t=us.comparator(e.key,this.key);return this.matchesComparison(t)}}class ra extends ea{constructor(e,t){super(e,"in",t),this.keys=sa(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ia extends ea{constructor(e,t){super(e,"not-in",t),this.keys=sa(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>us.fromName(e.referenceValue)))}class aa extends ea{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hs(t)&&$s(t.arrayValue,this.value)}}class oa extends ea{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$s(this.value.arrayValue,t)}}class ca extends ea{constructor(e,t){super(e,"not-in",t)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$s(this.value.arrayValue,t)}}class ua extends ea{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>$s(this.value.arrayValue,e)))}}class la{constructor(e,t="asc"){this.field=e,this.dir=t}}class da{constructor(e){this.timestamp=e}static fromTimestamp(e){return new da(e)}static min(){return new da(new Os(0,0))}static max(){return new da(new Os(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ha{constructor(e,t){this.comparator=e,this.root=t||pa.EMPTY}insert(e,t){return new ha(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pa.BLACK,null,null))}remove(e){return new ha(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fa(this.root,e,this.comparator,!0)}}class fa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pa.RED,this.left=null!=r?r:pa.EMPTY,this.right=null!=i?i:pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zi();if(this.right.isRed())throw Zi();const e=this.left.check();if(e!==this.right.check())throw Zi();return e+(this.isRed()?0:1)}}pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1,pa.EMPTY=new class{constructor(){this.size=0}get key(){throw Zi()}get value(){throw Zi()}get color(){throw Zi()}get left(){throw Zi()}get right(){throw Zi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new pa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ma{constructor(e){this.comparator=e,this.data=new ha(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ga(this.data.getIterator())}getIteratorFrom(e){return new ga(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ma))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ma(this.comparator);return t.data=e,t}}class ga{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class va{constructor(e){this.fields=e,e.sort(cs.comparator)}static empty(){return new va([])}unionWith(e){let t=new ma(cs.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Js(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(t)}setAll(e){let t=cs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Js(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Js(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){As(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new ya(Xs(this.value))}}class _a{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _a(e,0,da.min(),da.min(),da.min(),ya.empty(),0)}static newFoundDocument(e,t,n,r){return new _a(e,1,t,da.min(),n,r,0)}static newNoDocument(e,t){return new _a(e,2,t,da.min(),da.min(),ya.empty(),0)}static newUnknownDocument(e,t){return new _a(e,3,t,da.min(),da.min(),ya.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(da.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=da.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _a&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ba{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.C=null}}function wa(e,t=null,n=[],r=[],i=null,s=null,a=null){return new ba(e,t,n,r,i,s,a)}class ka{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.S=null,this.N=null,this.O=null,this.startAt,this.endAt}}function Ea(e){const t=$i(e);return t.N||(t.N=function(e,t){if("F"===e.limitType)return wa(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new la(e.field,t)}));const n=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;return wa(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,function(e){const t=$i(e);if(null===t.S){t.S=[];const e=new Set;for(const n of t.explicitOrderBy)t.S.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ma(cs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.S.push(new la(r,n))})),e.has(cs.keyField().canonicalString())||t.S.push(new la(cs.keyField(),n))}return t.S}(e))),t.N}function Sa(e,t){const n=e.filters.concat([t]);return new ka(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ia(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vs(t)?"-0":t}}class xa{constructor(){this._=void 0}}class Ta extends xa{}class Aa extends xa{constructor(e){super(),this.elements=e}}class Ca extends xa{constructor(e){super(),this.elements=e}}class Na extends xa{constructor(e,t){super(),this.serializer=e,this.q=t}}class Va{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Va}static exists(e){return new Va(void 0,e)}static updateTime(e){return new Va(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class Ra{}class La extends Ra{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Da extends Ra{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}class Oa extends Ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pa extends Ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}const Ma={asc:"ASCENDING",desc:"DESCENDING"},Fa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ja={and:"AND",or:"OR"};class Za{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ba(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $a(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wa(e,t){return Ba(e,t.toTimestamp())}function Ua(e){return Bi(!!e),da.fromTimestamp(function(e){const t=Rs(e);return new Os(t.seconds,t.nanos)}(e))}function za(e,t){return Ga(e,t).canonicalString()}function Ga(e,t){const n=function(e){return new as(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ha(e,t){return za(e.databaseId,t.path)}function Ya(e,t){const n=function(e){const t=as.fromString(e);return Bi(ro(t)),t}(t);if(n.get(1)!==e.databaseId.projectId)throw new Yi(Ui,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yi(Ui,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new us(function(e){return Bi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}(n))}function qa(e,t,n){return{name:Ha(e,t),fields:n.value.mapValue.fields}}function Ja(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=function(e,t){return za(e.databaseId,t)}(e,i);const s=function(e){if(0!==e.length)return to(ta.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:eo(e.field),direction:Xa(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=function(e,t){return e.useProto3Json||function(e){return null==e}(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{B:n,parent:i}}function Xa(e){return Ma[e]}function Ka(e){return Fa[e]}function Qa(e){return ja[e]}function eo(e){return{fieldPath:e.canonicalString()}}function to(e){return e instanceof ea?function(e){if("=="===e.op){if(qs(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NAN"}};if(Ys(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qs(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NAN"}};if(Ys(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(e.field),op:Ka(e.op),value:e.value}}}(e):e instanceof ta?function(e){const t=e.getFilters().map((e=>to(e)));return 1===t.length?t[0]:{compositeFilter:{op:Qa(e.op),filters:t}}}(e):Zi()}function no(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ro(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function io(e){return new Za(e,!0)}class so extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.Y=!1}Z(){if(this.Y)throw new Yi(Gi,"The client has already been terminated.")}P(e,t,n,r){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.P(e,Ga(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===zi&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yi(Wi,e.toString())}))}g(e,t,n,r,i){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.g(e,Ga(t,n),r,s,a,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===zi&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yi(Wi,e.toString())}))}terminate(){this.Y=!0,this.connection.terminate()}}async function ao(e,t){const n=$i(e),r={writes:t.map((e=>function(e,t){let n;if(t instanceof La)n={update:qa(e,t.key,t.value)};else if(t instanceof Oa)n={delete:Ha(e,t.key)};else if(t instanceof Da)n={update:qa(e,t.key,t.data),updateMask:no(t.fieldMask)};else{if(!(t instanceof Pa))return Zi();n={verify:Ha(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Aa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Na)return{fieldPath:t.field.canonicalString(),increment:n.q};throw Zi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zi()}(e,t.precondition)),n}(n.serializer,e)))};await n.P("Commit",n.serializer.databaseId,as.emptyPath(),r)}const oo=new Map;function co(e){if(e._terminated)throw new Yi(Gi,"The client has already been terminated.");if(!oo.has(e)){Pi("ComponentProvider","Initializing Datastore");const t=function(e){return new ks(e,fetch.bind(null))}(function(e,t,n,r){return new rs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ms(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,e.app.options.appId||"",e._persistenceKey,e._freezeSettings())),n=io(e._databaseId),r=function(e,t,n,r){return new so(e,t,n,r)}(e._authCredentials,e._appCheckCredentials,t,n);oo.set(e,r)}return oo.get(e)}class uo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Yi(Ui,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yi(Ui,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new Yi(Ui,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ms(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Yi(Ui,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Yi(Ui,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Yi(Ui,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uo({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yi(Gi,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yi(Gi,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uo(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ji;switch(e.type){case"firstParty":return new es(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yi(Ui,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oo.get(e);t&&(Pi("ComponentProvider","Removing Datastore"),oo.delete(e),t.terminate())}(this),Promise.resolve()}}function ho(e,t){const n="string"==typeof e?e:t||"(default)",r=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}("object"==typeof e?e:function(e=di){const t=fi.get(e);if(!t&&e===di&&er())return bi();if(!t)throw yi.create("no-app",{appName:e});return t}(),"firestore/lite").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=Qn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&function(e,t,n,r={}){var i;const s=(e=ps(e,lo))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Li.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kn(JSON.stringify({alg:"none",type:"JWT"})),Kn(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Yi(Ui,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Li(s)}e._authCredentials=new Xi(new qi(t,n))}}(r,...e)}return r}class fo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class po{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new po(this.firestore,e,this._key)}}class mo extends fo{constructor(e,t,n){super(e,t,function(e){return new ka(e)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new po(this.firestore,null,new us(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function go(e,t,...n){if(e=or(e),1===arguments.length&&(t=Ss.newId()),ls("doc","path",t),e instanceof lo){const r=as.fromString(t,...n);return ds(r),new po(e,null,new us(r))}{if(!(e instanceof po||e instanceof mo))throw new Yi(Ui,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(as.fromString(t,...n));return ds(r),new po(e.firestore,e instanceof mo?e.converter:null,new us(r))}}class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Ns.fromBase64String(e))}catch(e){throw new Yi(Ui,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vo(Ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Yi(Ui,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _o{constructor(e){this._methodName=e}}class bo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yi(Ui,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yi(Ui,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Is(this._lat,e._lat)||Is(this._long,e._long)}}class wo{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ko=/^__.*__$/;class Eo{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new La(e,this.data,t,this.fieldTransforms)}}class So{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Io(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zi()}}class xo{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.tt(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get et(){return this.settings.et}rt(e){return new xo(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.rt({path:n,it:!1});return r.st(e),r}ot(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.rt({path:n,it:!1});return r.tt(),r}ut(e){return this.rt({path:void 0,it:!0})}_t(e){return Mo(e,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.st(this.path.get(e))}st(e){if(0===e.length)throw this._t("Document fields must not be empty");if(Io(this.et)&&ko.test(e))throw this._t('Document fields cannot begin and end with "__"')}}class To{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||io(e)}ht(e,t,n,r=!1){return new xo({et:e,methodName:t,lt:n,path:cs.emptyPath(),it:!1,ct:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ao(e){const t=e._freezeSettings(),n=io(e._databaseId);return new To(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Co extends _o{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e._t(`${this._methodName}() can only appear at the top level of your update data`):e._t(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Co}}function No(e,t){if(Ro(e=or(e)))return Lo("Unsupported field value:",t,e),Vo(e,t);if(e instanceof _o)return function(e,t){if(!Io(t.et))throw t._t(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._t(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.it&&4!==t.et)throw t._t("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=No(i,t.ut(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=or(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return function(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!vs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):Ia(e,t)}(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Os.fromDate(e);return{timestampValue:Ba(t.serializer,n)}}if(e instanceof Os){const n=new Os(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ba(t.serializer,n)}}if(e instanceof bo)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vo)return{bytesValue:$a(t.serializer,e._byteString)};if(e instanceof po){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._t(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:za(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wo)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t._t("VectorValues must only contain numeric values.");return Ia(t.serializer,e)}))}}}}}}(e,t);throw t._t(`Unsupported field value: ${fs(e)}`)}(e,t)}function Vo(e,t){const n={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):As(e,((e,r)=>{const i=No(r,t.nt(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ro(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Os||e instanceof bo||e instanceof vo||e instanceof po||e instanceof _o||e instanceof wo)}function Lo(e,t,n){if(!Ro(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=fs(n);throw"an object"===r?t._t(e+" a custom object"):t._t(e+" "+r)}}function Do(e,t,n){if((t=or(t))instanceof yo)return t._internalPath;if("string"==typeof t)return Po(e,t);throw Mo("Field path arguments must be of type string or ",e,!1,void 0,n)}const Oo=new RegExp("[~\\*/\\[\\]]");function Po(e,t,n){if(t.search(Oo)>=0)throw Mo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yo(...t.split("."))._internalPath}catch(r){throw Mo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Mo(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Yi(Ui,o+e+c)}function Fo(e,t){return e.some((e=>e.isEqual(t)))}class jo{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new po(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($o("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zo extends jo{data(){return super.data()}}class Bo{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function $o(e,t){return"string"==typeof t?Po(e,t):t instanceof yo?t._internalPath:t._delegate._internalPath}class Wo{}class Uo extends Wo{}class zo extends Uo{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zo(e,t,n)}_apply(e){const t=this._parse(e);return Jo(e._query,t),new fo(e.firestore,e.converter,Sa(e._query,t))}_parse(e){const t=Ao(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yi(Ui,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){qo(a,s);const t=[];for(const n of a)t.push(Yo(r,e,n));o={arrayValue:{values:t}}}else o=Yo(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||qo(a,s),o=function(e,t,n,r=!1){return No(n,e.ht(r?4:3,t))}(n,"where",a,"in"===s||"not-in"===s);return ea.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Go(e,t,n){const r=t,i=$o("where",e);return zo._create(i,r,n)}class Ho extends Wo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ho(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ta.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Jo(n,e),n=Sa(n,e)}(e._query,t),new fo(e.firestore,e.converter,Sa(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Yo(e,t,n){if("string"==typeof(n=or(n))){if(""===n)throw new Yi(Ui,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!function(e){return null!==e.collectionGroup}(t)&&-1!==n.indexOf("/"))throw new Yi(Ui,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(as.fromString(n));if(!us.isDocumentKey(r))throw new Yi(Ui,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gs(e,new us(r))}if(n instanceof po)return Gs(e,n._key);throw new Yi(Ui,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fs(n)}.`)}function qo(e,t){if(!Array.isArray(e)||0===e.length)throw new Yi(Ui,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jo(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Yi(Ui,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Yi(Ui,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Xo(e,t){if(!(t instanceof zo||t instanceof Ho))throw new Yi(Ui,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Ko extends class{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return As(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ls(e.doubleValue)));return new wo(i)}convertGeoPoint(e){return new bo(Ls(e.latitude),Ls(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ms(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fs(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Os(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=as.fromString(e);Bi(ro(n));const r=new is(n.get(1),n.get(3)),i=new us(n.popFirst(5));return r.isEqual(t)||Mi(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new po(this.firestore,null,t)}}Di="10.13.0_lite",vi(new cr("firestore/lite",((e,{instanceIdentifier:t,options:n})=>{const r=e.getProvider("app").getImmediate(),i=new lo(new Ki(e.getProvider("auth-internal")),new ns(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yi(Ui,'"projectId" not provided in firebase.initializeApp.');return new is(e.options.projectId,t)}(r,t),r);return n&&i._setSettings(n),i}),"PUBLIC").setMultipleInstances(!0)),wi("firestore-lite","4.7.0",""),wi("firestore-lite","4.7.0","esm2017");class Qo{constructor(e){this.app=bi(e),this.db=ho(this.app)}getApp(){return this.app}getDb(){return this.db}}class ec{constructor(e){this.apiUrl=new URL(e)}async fetch(){let e="85.214.132.117";if(!bt.getDebug()){const t=await fetch(this.apiUrl);e=(await t.json()).ip}return e}}class tc{constructor(e){this.dispatcher=e}install(e){wt.debug("Widget","installation started"),e.document.addEventListener("DOMContentLoaded",(async()=>{wt.debug("Widget","DOMContentLoaded","fired"),await this.dispatcher.sendViewEvent()}))}}class nc{static collectionClassValidator=new _t("CollectionClassSchema",yt.object({Name:yt.string().min(3),Schema:yt.object({})}));constructor(e){nc.collectionClassValidator.validate({...this.constructor}),this.instanceValidator=new _t(`${this.constructor.Name} Schema`,this.constructor.Schema),this.collection=function(e,t,...n){if(e=or(e),ls("collection","path",t),e instanceof lo){const r=as.fromString(t,...n);return hs(r),new mo(e,null,r)}{if(!(e instanceof po||e instanceof mo))throw new Yi(Ui,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(as.fromString(t,...n));return hs(r),new mo(e.firestore,null,r)}}(e,this.constructor.Name)}async findById(e){wt.debug(this.constructor.name,"findById",e);const t=await function(e){const t=co((e=ps(e,po)).firestore),n=new Ko(e.firestore);return async function(e,t){const n=$i(e),r={documents:t.map((e=>Ha(n.serializer,e)))},i=await n.g("BatchGetDocuments",n.serializer.databaseId,as.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Bi(!!t.found),t.found.name,t.found.updateTime;const n=Ya(e,t.found.name),r=Ua(t.found.updateTime),i=t.found.createTime?Ua(t.found.createTime):da.min(),s=new ya({mapValue:{fields:t.found.fields}});return _a.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Bi(!!t.missing),Bi(!!t.readTime);const n=Ya(e,t.missing),r=Ua(t.readTime);return _a.newNoDocument(n,r)}(e,t):Zi()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Bi(!!t),a.push(t)})),a}(t,[e._key]).then((t=>{Bi(1===t.length);const r=t[0];return new jo(e.firestore,n,e._key,r.isFoundDocument()?r:null,e.converter)}))}(go(this.collection,e));return t.exists()?{id:t.id,...t.data()}:null}async find(e){wt.debug(this.constructor.name,"find");const t=(await function(e){!function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Yi(Hi,"limitToLast() queries require specifying at least one orderBy() clause")}((e=ps(e,fo))._query);const t=co(e.firestore),n=new Ko(e.firestore);return async function(e,t){const n=$i(e),{B:r,parent:i}=Ja(n.serializer,Ea(t));return(await n.g("RunQuery",n.serializer.databaseId,i,{structuredQuery:r.structuredQuery})).filter((e=>!!e.document)).map((e=>function(e,t){const n=Ya(e,t.name),r=Ua(t.updateTime),i=t.createTime?Ua(t.createTime):da.min(),s=new ya({mapValue:{fields:t.fields}});return _a.newFoundDocument(n,r,i,s)}(n.serializer,e.document)))}(t,e._query).then((t=>{const r=t.map((t=>new Zo(e.firestore,n,t.key,t,e.converter)));return"L"===e._query.limitType&&r.reverse(),new Bo(e,r)}))}(this.collection)).docs.map((e=>({id:e.id,...e.data()})));return t}async findOne(e){return wt.debug(this.constructor.name,"findOne"),(await this.find(e))[0]}async exists(e){return wt.debug(this.constructor.name,"exists"),!!await this.findOne(e)}async insert(e){wt.debug(this.constructor.name,"insert",e),this.instanceValidator.validate(e),await function(e,t){const n=go(e=ps(e,mo)),r=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t),i=function(e,t,n,r,i,s={}){const a=e.ht(s.merge||s.mergeFields?2:0,t,n,i);Lo("Data must be an object, but it was:",a,r);const o=Vo(r,a);let c,u;if(s.merge)c=new va(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Do(t,r,n);if(!a.contains(i))throw new Yi(Ui,`Field '${i}' is specified in your field mask but missing from your input data.`);Fo(e,i)||e.push(i)}c=new va(e),u=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=a.fieldTransforms;return new Eo(new ya(o),c,u)}(Ao(e.firestore),"addDoc",n._key,r,null!==n.converter,{});return ao(co(e.firestore),[i.toMutation(n._key,Va.exists(!1))]).then((()=>n))}(this.collection,e)}async update(e,t){wt.debug(this.constructor.name,"update",e,t),this.instanceValidator.validate(t),await function(e,t,n,...r){const i=Ao((e=ps(e,po)).firestore);let s;return s="string"==typeof(t=or(t))||t instanceof yo?function(e,t,n,r,i,s){const a=e.ht(1,t,n),o=[Do(t,r,n)],c=[i];if(s.length%2!=0)throw new Yi(Ui,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(Do(t,s[e])),c.push(s[e+1]);const u=[],l=ya.empty();for(let e=o.length-1;e>=0;--e)if(!Fo(u,o[e])){const t=o[e];let n=c[e];n=or(n);const r=a.ot(t);if(n instanceof Co)u.push(t);else{const e=No(n,r);null!=e&&(u.push(t),l.set(t,e))}}const d=new va(u);return new So(l,d,a.fieldTransforms)}(i,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ht(1,t,n);Lo("Data must be an object, but it was:",i,r);const s=[],a=ya.empty();As(r,((e,r)=>{const o=Po(t,e,n);r=or(r);const c=i.ot(o);if(r instanceof Co)s.push(o);else{const e=No(r,c);null!=e&&(s.push(o),a.set(o,e))}}));const o=new va(s);return new So(a,o,i.fieldTransforms)}(i,"updateDoc",e._key,t),ao(co(e.firestore),[s.toMutation(e._key,Va.exists(!0))])}(go(this.collection,e),t)}}class rc extends nc{static Name="views";static Schema=yt.object({ip:yt.string().ip().optional(),visitorId:yt.string().optional(),count:yt.number().int(),date:yt.string().min(6),createdAt:yt.string().datetime(),updatedAt:yt.string().datetime()});async saveView(e){wt.debug("ViewCollection","saveView",e);const t=await this.findOne(function(e,t,...n){let r=[];t instanceof Wo&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Ho)).length,n=e.filter((e=>e instanceof zo)).length;if(t>1||t>0&&n>0)throw new Yi(Ui,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}(this.collection,function(...e){return e.forEach((e=>Xo("and",e))),Ho._create("and",e)}(Go("date","==",kt.getDate()),function(...e){return e.forEach((e=>Xo("or",e))),Ho._create("or",e)}(Go("ip","==",e.ip),Go("visitorId","==",e.visitorId)))));wt.debug("ViewCollection","saveView","doc",t);const n=kt.now(),r=kt.getDate(n);if(t){const i={...e,count:t.count+1,date:r,updatedAt:n,createdAt:t.createdAt};return console.log(t.id),await this.update(t.id,i),void wt.debug("ViewCollection","saveView","update",i)}const i={...e,count:1,date:r,createdAt:n,updatedAt:n};await this.insert(i),wt.debug("ViewCollection","saveView","insert",i)}}class ic{static InvalidCollectionName=class extends Error{constructor(e){super(`Invalid collection name: ${e}`)}};constructor(e){const t=e.getDb();this.viewsCollection=new rc(t)}getCollection(e){const t=this[`${e.toLowerCase()}Collection`];if(!t)throw new InvalidCollectionName(e);return t}}const sc=new class{constructor(){bt.validate();const e=new Qo(bt.getFirebaseConfig()),t=new ic(e),n=new ec(bt.getIpApiUrl()),r=new Yn,i=new St(t,n,r),s=new tc(i);this.providers=[e,t,n,r,i,s],this.providersMap=new Map(this.providers.map((e=>[e.constructor.name.toLowerCase(),e]))),wt.debug("AppModule","initiated")}get(e){const t=this.providersMap.get(e.toLowerCase());if(!t)throw new Error(`Component not found: ${e}`);return t}};sc.get("widget").install(window)})();
//# sourceMappingURL=main.js.map